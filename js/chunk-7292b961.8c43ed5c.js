(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7292b961"],{"0944":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"message-banner",style:t.cover},[a("div",{staticClass:"message-container"},[a("h1",{staticClass:"message-title"},[t._v("留言板")]),a("div",{staticClass:"animated fadeInUp message-input-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{placeholder:"说点什么吧"},domProps:{value:t.content},on:{click:function(e){t.show=!0},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addToList(e)},input:function(e){e.target.composing||(t.content=e.target.value)}}}),a("button",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"ml-3 animated bounceInLeft",on:{click:t.addToList}},[t._v(" 发送 ")])])]),a("div",{staticClass:"barrage-container"},[a("vue-baberrage",{attrs:{barrageList:t.barrageList},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"barrage-items"},[a("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.item.avatar,width:"30",height:"30"}}),a("span",{staticClass:"ml-2"},[t._v(t._s(e.item.nickname)+" :")]),a("span",{staticClass:"ml-2"},[t._v(t._s(e.item.content))])])]}}])})],1)])])},s=[],i=(a("4160"),a("498a"),a("159b"),a("365c")),r={metaInfo:{meta:[{name:"chrelyonly",content:"www.chrelyonly.com,博客,个人博客,前后盾分离博客"},{name:"description",content:"www.chrelyonly.com,博客,个人博客,前后盾分离博客"}]},mounted:function(){this.listMessage()},data:function(){return{show:!1,img:"https://img.chrelyonly.cn/",content:"",count:null,timer:null,barrageList:[]}},methods:{addToList:function(){var t=this;if(this.count)return this.$toast({type:"error",message:"30秒后才能再次留言"}),!1;if(""===this.content.trim())return this.$toast({type:"error",message:"留言不能为空"}),!1;var e=this.$store.state.avatar?this.$store.state.avatar:this.$store.state.blogInfo.webSite.touristAvatar,a=this.$store.state.nickname?this.$store.state.nickname:"游客",n={avatar:e,status:1,nickname:a,content:this.content,time:Math.floor(3*Math.random())+7};this.barrageList.push(n),this.content="",Object(i["d"])(n);var s=30;this.timer||(this.count=s,this.timer=setInterval((function(){t.count>0&&t.count<=30?t.count--:(clearInterval(t.timer),t.timer=null)}),1e3))},listMessage:function(){var t=this;Object(i["u"])().then((function(e){t.barrageList=e.data}))}},computed:{cover:function(){var t="";return this.$store.state.blogInfo.pageList.forEach((function(e){"message"==e.pageLabel&&(t=e.pageCover)})),"background: url("+t+") center center / cover no-repeat"}}},o=r,c=(a("12b1"),a("2877")),u=Object(c["a"])(o,n,s,!1,null,"063babcc",null);e["default"]=u.exports},"12b1":function(t,e,a){"use strict";var n=a("23d2"),s=a.n(n);s.a},"23d2":function(t,e,a){}}]);
//# sourceMappingURL=chunk-7292b961.8c43ed5c.js.map